<!doctype html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>ì•± ì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ì™€ ë„¤íŠ¸ì›Œí¬ ì™„ì „ ì •ë³µ</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/theme/black.min.css" id="theme">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/plugin/highlight/monokai.min.css">

    <style>
        /* ë‹¤ì´ì–´ê·¸ë¨ ìŠ¤íƒ€ì¼ ì¡°ì • */
        .mermaid {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin: auto;
        }
        .highlight { color: #42affa; font-weight: bold; }
        .error { color: #ff5e5e; font-weight: bold; }
    </style>
</head>
<body>

<div class="reveal">
    <div class="slides">
        <section data-markdown data-separator="^\n---\n$" data-separator-vertical="^\n--\n$">
            <script type="text/template">

# ì•± ì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ì™€<br>ë„¤íŠ¸ì›Œí¬ ì™„ì „ ì •ë³µ
### From Basic Network to MSA Deep Dive

<br>
<small>ë„¤íŠ¸ì›Œí¬ ê¸°ì´ˆë¶€í„° Java ë°±ì—”ë“œ êµ¬ì¡°ì™€ ì—ëŸ¬ ë¶„ì„ê¹Œì§€</small>

---

## 1. ì¸íŠ¸ë¡œ (Introduction)

--

### ì™œ ì´ ì§€ì‹ì´ í•„ìš”í•œê°€?

* **ë¹™ì‚°ì˜ ì¼ê°:** ì•± í™”ë©´(Frontend) ë’¤ì˜ ê±°ëŒ€í•œ ì‹œìŠ¤í…œ(Network, Backend, DB) ì´í•´
* **ê¸°ëŒ€ íš¨ê³¼:**
    * ê°œë°œìì™€ì˜ ì†Œí†µ ë¹„ìš© ê°ì†Œ <br>("ì•ˆ ë¼ìš”" â¡ï¸ "400 ì—ëŸ¬ì…ë‹ˆë‹¤")
    * ì´ìŠˆ ë°œìƒ êµ¬ê°„ì˜ ë¹ ë¥¸ íŒë‹¨ (ì•± vs ì„œë²„ vs ë„¤íŠ¸ì›Œí¬)

---

## 2. ê¸°ë³¸ê¸° : ë„¤íŠ¸ì›Œí¬ì™€ RESTful

--

### ë„¤íŠ¸ì›Œí¬ í†µì‹ ì˜ ê¸°ë³¸ ìš”ì†Œ

* **Client:** ìš”ì²­í•˜ëŠ” ì•±/ì›¹
* **Server:** ì‘ë‹µí•˜ëŠ” ë°±ì—”ë“œ
* **DNS:** ì£¼ì†Œë¡ (`naver.com` -> IP)

<div class="mermaid">
graph LR
    Client((Client)) -->|Request| Server[Server]
    Server -->|Response| Client
    style Client fill:#f9f,stroke:#333
    style Server fill:#bbf,stroke:#333
</div>

--

### RESTful APIë€?

> **RE**presentational **S**tate **T**ransfer

* **í•µì‹¬ 3ìš”ì†Œ:**
    1. **ìì› (Resource):** URI (`/users`)
    2. **í–‰ìœ„ (Verb):** Method (`GET`, `POST`)
    3. **í‘œí˜„ (Representation):** `JSON`, `XML`

--

### RESTful ë””ìì¸ ì˜ˆì‹œ

| í–‰ìœ„ | ë‚˜ìœ ì˜ˆ (Not RESTful) | ì¢‹ì€ ì˜ˆ (RESTful) |
|:---:|:---|:---|
| **ì¡°íšŒ** | POST /getUser | <span class="highlight">GET</span> /users/1 |
| **ìƒì„±** | GET /createUser | <span class="highlight">POST</span> /users |
| **ìˆ˜ì •** | POST /updateUser | <span class="highlight">PUT</span> /users/1 |
| **ì‚­ì œ** | GET /deleteUser | <span class="highlight">DELETE</span> /users/1 |

---

## 3. ìˆ²ì„ ë³´ì : ì„œë²„ ì•„í‚¤í…ì²˜ì˜ ì§„í™”

--

### Monolithic vs MSA

<div class="mermaid">
graph TD
    subgraph Monolithic [í•œ ë©ì–´ë¦¬]
    M[UI + íšŒì› + ì£¼ë¬¸ + ê²°ì œ]
    end

    subgraph MSA [ê¸°ëŠ¥ë³„ ë¶„ë¦¬]
    GW[Gateway] --> U[íšŒì› ì„œë²„]
    GW --> O[ì£¼ë¬¸ ì„œë²„]
    GW --> P[ê²°ì œ ì„œë²„]
    end
    
    style M fill:#ff9999
    style GW fill:#ffff99
</div>

* **Monolithic:** ê´€ë¦¬ ë‹¨ìˆœ / ì „ì²´ ë°°í¬ í•„ìš”
* **MSA:** ì¥ì•  ê²©ë¦¬ / êµ¬ì¡° ë³µì¡

---

## 4. Deep Dive : Java ë°±ì—”ë“œ êµ¬ì¡°

--

### Java Spring Boot ê³„ì¸µ êµ¬ì¡°

ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ê³µì¥ì´ ê°€ë™ë©ë‹ˆë‹¤.

<div class="mermaid">
graph LR
    Req(Request) --> C[Controller]
    C -->|DTO| S[Service]
    S -->|Entity| R[Repository]
    R -->|SQL| D[(Database)]
    
    style C fill:#f96
    style S fill:#9f6
    style R fill:#69f
    style D fill:#ff9
</div>

1. **Controller:** ì†ë‹˜ ë§ì´ (ìš”ì²­ ê²€ì¦)
2. **Service:** ìš”ë¦¬ì‚¬ (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)
3. **Repository:** ì°½ê³ ì§€ê¸° (DB ì ‘ê·¼)

--

### ë°ì´í„° íë¦„ê³¼ DTO

> **DTO (Data Transfer Object):** ë°ì´í„°ë¥¼ ë‚˜ë¥´ê¸° ìœ„í•œ ë°”êµ¬ë‹ˆ

1. **Request (JSON):** `{"id": "user1", "pw": "1234"}`
2. **Controller:** JSON â¡ï¸ **DTO** ë³€í™˜
3. **Service:** DTO â¡ï¸ **Entity** ë³€í™˜ í›„ ë¡œì§ ìˆ˜í–‰
4. **Repository:** Entityë¥¼ DBì— ì €ì¥

--

### MSA ì„œë²„ ê°„ í†µì‹  ë°©ì‹

"ì£¼ë¬¸ ì„œë²„"ê°€ "ìƒí’ˆ ì„œë²„"ì—ê²Œ ë°ì´í„°ë¥¼ ìš”ì²­í•  ë•Œ

* **Sync (ë™ê¸°) - Feign Client:**
    * ë©”ì†Œë“œ í˜¸ì¶œí•˜ë“¯ HTTP ìš”ì²­ (`productClient.get()`)
    * ì§ê´€ì ì´ë‚˜ ì¥ì•  ì „íŒŒ ìœ„í—˜
* **Async (ë¹„ë™ê¸°) - Kafka/RabbitMQ:**
    * ë©”ì‹œì§€ íì— ì´ë²¤íŠ¸ ë°œí–‰
    * ëŠìŠ¨í•œ ê²°í•©, ì¥ì•  ê²©ë¦¬

---

## 5. MSA êµ¬ì¡°ì™€ ì‘ë‹µ ì²˜ë¦¬

--

### MSAì˜ ê´€ë¬¸, API Gateway

> "ì•±ì€ ë¬¸ì§€ê¸°(Gateway)ë§Œ ì•Œë©´ ëœë‹¤."

<div class="mermaid">
graph TD
    App((App)) --> GW[API Gateway]
    GW -->|/users| US[User Service]
    GW -->|/orders| OS[Order Service]
    GW -->|/products| PS[Product Service]
    
    style GW fill:#f9f,stroke:#333,stroke-width:4px
</div>

* **Routing:** ì£¼ì†Œì— ë”°ë¼ ì ì ˆí•œ ì„œë²„ë¡œ ì—°ê²°
* **Auth:** ì¸ì¦/ì¸ê°€ (ì…êµ¬ ì»·)

--

### Response Aggregation (ë¹„ë¹”ë°¥ íŒ¨í„´)

* **ìƒí™©:** ë©”ì¸ í™”ë©´ (ë‚´ ì •ë³´ + ì¶”ì²œ ìƒí’ˆ + ê³µì§€)
* **í•´ê²° (Gateway):**
    1. ì•±ì€ Gatewayì— 1ë²ˆ ìš”ì²­ (`GET /main`)
    2. Gatewayê°€ ë‚´ë¶€ ì„œë²„ 3ê³³ì„ ì°”ëŸ¬ ë°ì´í„°ë¥¼ ëª¨ìŒ
    3. í•˜ë‚˜ì˜ JSONìœ¼ë¡œ í•©ì³ì„œ ì‘ë‹µ

---

## 6. ì‹¤ì „ ë¶„ì„ : HTTP Status Code

--

### Status Code ë¶„ë¥˜

<div class="mermaid">
graph TD
    S{Status Code}
    S --> 2xx[200 OK: ì„±ê³µ]
    S --> 4xx[400 Bad Request: í´ë¼ì´ì–¸íŠ¸ ê³¼ì‹¤]
    S --> 5xx[500 Internal Error: ì„œë²„ ê³¼ì‹¤]
    
    style 2xx fill:#9f9
    style 4xx fill:#f99
    style 5xx fill:#f66
</div>

--

### ğŸš¨ 400 Bad Request

* **ì˜ë¯¸:** ë¬¸ë²• ì˜¤ë¥˜ ë˜ëŠ” í•„ìˆ˜ ì •ë³´ ëˆ„ë½
* **ì²´í¬ë¦¬ìŠ¤íŠ¸:**
    * í•„ìˆ˜ íŒŒë¼ë¯¸í„°(`user_id`) ëˆ„ë½?
    * íƒ€ì… ë¶ˆì¼ì¹˜ (ìˆ«ìì— ë¬¸ìì—´)?
    * DTO ìœ íš¨ì„± ê²€ì‚¬(`@NotNull`) ì‹¤íŒ¨?

--

### ğŸ” 401 vs 403

* **401 Unauthorized:**
    * "ì‹ ë¶„ì¦ ì—†ìŒ" (ë¡œê·¸ì¸ í’€ë¦¼, í† í° ë§Œë£Œ)
* **403 Forbidden:**
    * "ì‹ ë¶„ì¦ì€ ìˆëŠ”ë° ì ‘ê·¼ ë¶ˆê°€" (ê´€ë¦¬ì í˜ì´ì§€ ë“±)

---

## 7. ê²°ë¡  (Wrap-up)

--

### QC/ì‹¤ë¬´ì ì²´í¬ë¦¬ìŠ¤íŠ¸

1. **ìŠ¤í™ í™•ì¸:** ì—ëŸ¬ ì‹œ Swagger ë¬¸ì„œ ëŒ€ì¡°
2. **ë„êµ¬ í™œìš©:** Charles, ProxyManìœ¼ë¡œ ì‹¤ì œ JSON í™•ì¸
3. **êµ¬ì¡°ì  ì˜ì‹¬:** MSA êµ¬ì¡°ìƒ íŠ¹ì • ì„œë¹„ìŠ¤ë§Œ ëŠë¦°ì§€ í™•ì¸

--

### Q & A

ê°ì‚¬í•©ë‹ˆë‹¤.

            </script>
        </section>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/plugin/markdown/markdown.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/plugin/highlight/highlight.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>

<script>
    // Mermaid ì´ˆê¸°í™”
    mermaid.initialize({
        startOnLoad: true,
        theme: 'default',
        securityLevel: 'loose',
    });

    // Reveal.js ì´ˆê¸°í™”
    Reveal.initialize({
        controls: true,
        progress: true,
        center: true,
        hash: true,
        slideNumber: true,
        plugins: [ RevealMarkdown, RevealHighlight ]
    });
</script>

</body>
</html>
